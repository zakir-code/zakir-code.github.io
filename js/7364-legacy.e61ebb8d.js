"use strict";(self["webpackChunkping_wallet"]=self["webpackChunkping_wallet"]||[]).push([[7364],{87608:function(t,e,a){a.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toastification"},[a("div",{staticClass:"d-flex align-items-start"},[a("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[a("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),a("div",{staticClass:"d-flex flex-grow-1"},[a("div",[t.title?a("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?a("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),a("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():a("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},r=[],o=a(47389),s={components:{BAvatar:o.SH},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},i=s,l=a(1001),d=(0,l.Z)(i,n,r,!1,null,"55dd3057",null),u=d.exports},37364:function(t,e,a){a.r(e),a.d(e,{default:function(){return S}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.pingVals&&t.pingVals.length>0?a("b-card",{staticClass:"overflow-auto",attrs:{title:"❤️ Helping Ping.pub By Staking ❤️"}},[a("b-table",{attrs:{items:t.pingVals,fields:t.validator_fields,"sort-desc":!0,"sort-by":"tokens",striped:"",hover:"",responsive:"sm"},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(description)",fn:function(e){return[a("b-media",{staticClass:"text-truncate",staticStyle:{"max-width":"320px"},attrs:{"vertical-align":"center"},scopedSlots:t._u([{key:"aside",fn:function(){return[e.item.avatar?a("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-primary",modifiers:{hover:!0,"v-primary":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:e.item.description.details,expression:"data.item.description.details",modifiers:{hover:!0,right:!0}}],attrs:{size:"32",variant:"light-primary",src:e.item.avatar}}):t._e(),e.item.avatar?t._e():a("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-primary",modifiers:{hover:!0,"v-primary":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:e.item.description.details,expression:"data.item.description.details",modifiers:{hover:!0,right:!0}}]},[a("feather-icon",{attrs:{icon:"ServerIcon"}})],1)]},proxy:!0}],null,!0)},[a("span",{staticClass:"font-weight-bolder d-block text-nowrap"},[a("router-link",{attrs:{to:"./staking/"+e.item.operator_address}},[t._v(" "+t._s(e.item.description.moniker)+" ")])],1),a("small",{staticClass:"text-muted"},[t._v(t._s(e.item.description.website||e.item.description.identity))])])]}},{key:"cell(tokens)",fn:function(e){return[e.item.tokens>0?a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(t.tokenFormatter(e.item.tokens,t.stakingParameters.bond_denom)))]),a("span",{staticClass:"font-small-2 text-muted text-nowrap d-none d-lg-block"},[t._v(t._s(t.percent(e.item.tokens/t.stakingPool))+"%")])]):a("span",[t._v(t._s(e.item.delegator_shares))])]}},{key:"cell(changes)",fn:function(e){return[e.item.changes>0?a("small",{staticClass:"text-success"},[t._v("+"+t._s(e.item.changes))]):0===e.item.changes?a("small",[t._v("-")]):a("small",{staticClass:"text-danger"},[t._v(t._s(e.item.changes))])]}},{key:"cell(operation)",fn:function(e){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.operation-modal",modifiers:{"operation-modal":!0}}],attrs:{name:e.item.operator_address,variant:"primary",size:"sm"},on:{click:function(a){return t.selectValidator(e.item.operator_address)}}},[t._v(" Delegate ")])]}}],null,!1,1954446711)})],1):t._e(),a("b-card",{staticClass:"overflow-auto",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"d-flex justify-content-between"},[a("b-form-group",{staticClass:"mb-0"},[a("b-form-radio-group",{attrs:{id:"btn-radios-1","button-variant":"outline-primary",options:t.statusOptions,buttons:"",name:"radios-btn-default"},on:{change:t.getValidatorListByStatus},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),a("b-card-title",{staticClass:"d-none d-sm-block"},[a("span",[t._v("Validators "+t._s(t.validators.length)+"/"+t._s(t.stakingParameters.max_validators)+" ")])])],1),a("b-card-body",{staticClass:"pl-0 pr-0 pb-0"},[a("b-table",{staticClass:"mb-0",attrs:{items:t.list,fields:t.validator_fields,"sort-desc":!0,"sort-by":"tokens",striped:"",hover:"",responsive:"sm"},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[a("b-badge",{attrs:{variant:t.rankBadge(e)}},[t._v(" "+t._s(e.index+1)+" ")])]}},{key:"cell(description)",fn:function(e){return[a("b-media",{staticClass:"text-truncate",staticStyle:{"max-width":"320px"},attrs:{"vertical-align":"center"},scopedSlots:t._u([{key:"aside",fn:function(){return[e.item.avatar?a("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-primary",modifiers:{hover:!0,"v-primary":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:e.item.description.details,expression:"data.item.description.details",modifiers:{hover:!0,right:!0}}],attrs:{size:"32",variant:"light-primary",src:e.item.avatar}}):t._e(),e.item.avatar?t._e():a("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-primary",modifiers:{hover:!0,"v-primary":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:e.item.description.details,expression:"data.item.description.details",modifiers:{hover:!0,right:!0}}]},[a("feather-icon",{attrs:{icon:"ServerIcon"}})],1)]},proxy:!0}],null,!0)},[a("span",{staticClass:"font-weight-bolder d-block text-nowrap"},[a("router-link",{attrs:{to:"./staking/"+e.item.operator_address}},[t._v(" "+t._s(e.item.description.moniker)+" ")])],1),a("small",{staticClass:"text-muted"},[t._v(t._s(e.item.description.website||e.item.description.identity))])])]}},{key:"cell(tokens)",fn:function(e){return[e.item.tokens>0?a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(t.tokenFormatter(e.item.tokens,t.stakingParameters.bond_denom)))]),a("span",{staticClass:"font-small-2 text-muted text-nowrap d-none d-lg-block"},[t._v(t._s(t.percent(e.item.tokens/t.stakingPool))+"%")])]):a("span",[t._v(t._s(e.item.delegator_shares))])]}},{key:"cell(changes)",fn:function(e){return[e.item.changes>0?a("small",{staticClass:"text-success"},[t._v("+"+t._s(e.item.changes))]):0===e.item.changes?a("small",[t._v("-")]):a("small",{staticClass:"text-danger"},[t._v(t._s(e.item.changes))])]}},{key:"cell(operation)",fn:function(e){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.operation-modal",modifiers:{"operation-modal":!0}}],attrs:{name:e.item.operator_address,variant:"primary",size:"sm"},on:{click:function(a){return t.selectValidator(e.item.operator_address)}}},[t._v(" Delegate ")])]}}])})],1),a("b-card-footer",{staticClass:"d-none d-md-block d-md-flex justify-content-between"},[a("small",[a("b-badge",{attrs:{variant:"danger"}},[t._v("   ")]),t._v(" Top 33% "),a("b-badge",{attrs:{variant:"warning"}},[t._v("   ")]),t._v(" Top 67% of Voting Power ")],1),a("download-excel",{attrs:{fields:t.excelCols,data:t.list,type:"csv",worksheet:"Validators",name:"validators.xls"}},[a("b-button",{attrs:{variant:"primary",size:"sm"}},[t._v(" Export to Excel ")])],1)],1)],1),a("operation-modal",{attrs:{type:"Delegate","validator-address":t.validator_address}}),a("div",{attrs:{id:"txevent"}})],1)},r=[],o=(a(57327),a(41539),a(82526),a(41817),a(21249),a(47941),a(9653),a(54747),a(92222),a(69826),a(8775)),s=a(67566),i=a(72775),l=a(47389),d=a(26034),u=a(87047),c=a(49379),m=a(40670),p=a(15193),f=a(87167),h=a(90224),v=a(37674),b=a(5870),g=a(54333),_=a(8392),k=a(51180),y=a(56540),x={components:{BCard:o._,BTable:s.h,BMedia:i.P,BAvatar:l.SH,BBadge:d.k,BCardHeader:u.p,BCardTitle:c._,BCardBody:m.O,BButton:p.T,BFormRadioGroup:f.Q,BFormGroup:h.x,BCardFooter:v.F,OperationModal:k.Z,DownloadExcel:y.Z},directives:{"b-tooltip":b.o},data:function(){var t=this;return{islive:!0,validator_address:null,mintInflation:0,stakingPool:1,stakingParameters:new g.StakingParameters,validators:[],delegations:[],changes:{},latestPower:{},previousPower:{},excelCols:{Validator:"description.moniker",Identity:"description.identity",Website:"description.website","Operator Address":"operator_address",Status:"status","Bonded Tokens":"tokens","Formated Bonded Tokens":{field:"tokens",callback:function(e){return t.tokenFormatter(e,t.stakingParameters.bond_denom)}},Percent:{field:"tokens",callback:function(e){return t.percent(e/t.stakingPool)}},"24h Changes":"changes","Unbonding Height":"unbonding_height","Unbonding Time":"unbonding_time"},validator_fields:[{key:"index",label:"#",tdClass:"d-none d-md-block",thClass:"d-none d-md-block"},{key:"description",label:"Validator"},{key:"tokens",label:"Voting Power",sortable:!0,tdClass:"text-right",thClass:"text-right",sortByFormatted:!0},{key:"changes",label:"24H Changes"},{key:"commission",formatter:function(t){return"".concat((0,g.percent)(t.rate),"%")},tdClass:"text-right",thClass:"text-right"},{key:"operation",label:"",tdClass:"text-right",thClass:"text-right"}],statusOptions:[{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}],selectedStatus:"active",isInactiveLoaded:!1,inactiveValidators:[]}},computed:{pingVals:function(){return this.list.filter((function(t){return"6783E9F948541962"===t.description.identity}))},list:function(){var t=this,e="active"===this.selectedStatus?this.validators:this.inactiveValidators;return e.map((function(e){var a=e;if(Object.keys(t.latestPower).length>0&&Object.keys(t.previousPower).length>0){var n=t.latestPower[e.consensus_pubkey.key]||0,r=t.previousPower[e.consensus_pubkey.key]||0;a.changes=n-r}return a}))}},created:function(){var t=this;this.$http.getStakingPool().then((function(e){t.stakingPool=e.bondedToken})),this.$http.getStakingParameters().then((function(e){t.stakingParameters=e})),this.initial()},beforeDestroy:function(){this.islive=!1},mounted:function(){var t=this,e=document.getElementById("txevent");e.addEventListener("txcompleted",(function(){t.initial()}))},methods:{initial:function(){var t=this;this.$http.getValidatorList().then((function(e){for(var a=[],n=e,r=0;r<n.length;r+=1){var o=n[r].description.identity,s=t.$store.getters["chains/getAvatarById"](o);s?n[r].avatar=s:o&&""!==o&&a.push(o)}var i=Promise.resolve();a.forEach((function(e){i=i.then((function(){return new Promise((function(a){t.avatar(e,a)}))}))})),t.validators=n,t.getPreviousPower(t.validators.length)}))},getPreviousPower:function(t){var e=this;this.$http.getValidatorListByHeight("latest",0).then((function(a){var n=Number(a.block_height);n>14400?n-=14400:n=1,a.validators.forEach((function(t){e.$set(e.latestPower,t.pub_key.key,Number(t.voting_power))}));for(var r=100;r<t;r+=100)e.$http.getValidatorListByHeight("latest",r).then((function(t){t.validators.forEach((function(t){e.$set(e.latestPower,t.pub_key.key,Number(t.voting_power))}))}));for(var o=0;o<t;o+=100)e.$http.getValidatorListByHeight(n,o).then((function(t){t.validators.forEach((function(t){e.$set(e.previousPower,t.pub_key.key,Number(t.voting_power))}))}))}))},getValidatorListByStatus:function(){var t=this;if(!this.isInactiveLoaded){var e=["BOND_STATUS_UNBONDED","BOND_STATUS_UNBONDING"];e.forEach((function(e){t.$http.getValidatorListByStatus(e).then((function(e){for(var a=[],n=e,r=0;r<n.length;r+=1){var o=n[r].description.identity,s=t.$store.getters["chains/getAvatarById"](o);s?n[r].avatar=s:o&&""!==o&&a.push(o)}var i=Promise.resolve();a.forEach((function(e){i=i.then((function(){return new Promise((function(a){t.avatar(e,a)}))}))})),t.inactiveValidators=t.inactiveValidators.concat(e)}))})),this.isInactiveLoaded=!0}},selectValidator:function(t){this.validator_address=t},percent:g.percent,tokenFormatter:function(t,e){return(0,g.formatToken)({amount:t,denom:e},{},0)},rankBadge:function(t){if("inactive"===this.selectedStatus)return"primary";var e=t.index,a=t.item;0===e?window.sum=a.tokens:window.sum+=a.tokens;var n=window.sum/this.stakingPool;return n<.333?"danger":n<.67?"warning":"primary"},avatar:function(t,e){var a=this;this.islive&&(0,_.i)(t).then((function(n){if(e(),Array.isArray(n.them)&&n.them.length>0){var r=n.them[0].pictures;if(r){var o="active"===a.selectedStatus?a.validators:a.inactiveValidators,s=o.find((function(e){return e.description.identity===t}));a.$set(s,"avatar",r.primary.url),a.$store.commit("cacheAvatar",{identity:t,url:r.primary.url})}}}))}}},w=x,C=a(1001),B=(0,C.Z)(w,n,r,!1,null,null,null),S=B.exports},51180:function(t,e,a){a.d(e,{Z:function(){return Yt}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:t.modalId,centered:"",size:"md",title:t.modalTitle,scrollable:"","hide-header-close":!1,"hide-footer":t.showResult,"modal-class":"custom-transaction-modal"},on:{hidden:t.resetModal,show:t.initialize},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"d-flex justify-content-between w-100"},[a("div",{attrs:{id:"left-footer"}},[t.isOwner?a("b-form-checkbox",{attrs:{name:"advance",value:"true"},model:{value:t.advance,callback:function(e){t.advance=e},expression:"advance"}},[a("small",[t._v("Advanced")])]):t._e()],1),t.isOwner?a("b-button",{attrs:{variant:"primary"},on:{click:t.handleOk}},[t._v(" "+t._s(t.actionName)+" ")]):a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"outline-primary",to:"/wallet/import"}},[t._v(" Connect Wallet ")])],1)]},proxy:!0}])},[a("b-overlay",{attrs:{show:!t.isOwner,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticClass:"text-center"},[a("b-avatar",{attrs:{"font-scale":"3",variant:"danger",animation:"cylon"}},[a("feather-icon",{attrs:{icon:"XCircleIcon",size:"16"}})],1),a("p",{staticClass:"mt-1 font-weight-bolder"},[t._v(" "+t._s(t.blockingMsg)+" ")])],1)]},proxy:!0}])},[t.showResult?a("TransactionResult",{attrs:{hash:t.txHash,"selected-chain":t.selectedChain}}):a("validation-observer",{ref:"simpleRules"},[a("b-form",[a(t.type,{ref:"component",tag:"component",attrs:{address:t.selectedAddress,"validator-address":t.validatorAddress,balance:t.balance,"proposal-id":t.proposalId,"proposal-title":t.proposalTitle,"to-address":t.toAddress},on:{update:t.componentUpdate}}),t.advance?a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-form-group",{attrs:{label:"Fee","label-for":"Fee"}},[a("validation-provider",{attrs:{rules:"required|integer",name:"fee"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",[a("b-form-input",{model:{value:t.fee,callback:function(e){t.fee=e},expression:"fee"}}),a("b-input-group-append",[a("b-form-select",{attrs:{options:t.feeDenoms,"value-field":"denom","text-field":"denom"},model:{value:t.feeDenom,callback:function(e){t.feeDenom=e},expression:"feeDenom"}})],1)],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}],null,!1,3675951686)})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("b-form-group",{attrs:{label:"Gas","label-for":"gas"}},[a("validation-provider",{attrs:{name:"gas"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-input",{attrs:{id:"gas",type:"number"},model:{value:t.gas,callback:function(e){t.gas=e},expression:"gas"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}],null,!1,230813745)})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("b-form-group",{attrs:{label:"Memo","label-for":"Memo"}},[a("validation-provider",{attrs:{name:"memo"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-input",{attrs:{id:"Memo",max:"2"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}],null,!1,3795330796)})],1)],1)],1):t._e(),t.advance?a("b-row",[a("b-col",[a("wallet-input-vue",{model:{value:t.wallet,callback:function(e){t.wallet=e},expression:"wallet"}})],1)],1):t._e()],1),a("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[a("div",{staticClass:"alert-body"},[a("span",[t._v(t._s(t.error))])])])],1)],1)],1)},r=[],o=a(16198),s=(a(35666),a(9653),a(57327),a(41539),a(23157),a(34553),a(69826),a(54747),a(47941),a(12954)),i=a(73106),l=a(47389),d=a(54391),u=a(26253),c=a(50725),m=a(54909),p=a(4060),f=a(22183),h=a(90224),v=a(90895),b=a(78959),g=a(65098),_=a(15193),k=a(22418),y=a(66126),x=a(20266),w=a(50742),C=a(54333),B=a(19938),S=a.n(B),A=a(87608),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form-group",{attrs:{label:"Wallet","label-for":"wallet"}},[a("validation-provider",{attrs:{rules:"required",name:"wallet"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-radio-group",{attrs:{stacked:""},on:{input:function(e){return t.handleInput()}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}},[a("b-form-radio",{staticClass:"d-none d-md-block",attrs:{name:"wallet",value:"keplr"}},[t._v(" Keplr ")]),a("b-form-radio",{staticClass:"d-none d-md-block",attrs:{name:"wallet",value:"metamask"}},[t._v(" Metamask ")]),a("b-form-radio",{attrs:{name:"wallet",value:"ledgerUSB"}},[t._v(" Ledger (USB) ")]),a("b-form-radio",{staticClass:"mr-0",attrs:{name:"wallet",value:"ledgerBle"}},[t._v(" Ledger (Bluetooth) ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)},T=[],I=(a(38862),a(87167)),V=a(76398),$={name:"WalletInput",components:{BFormRadioGroup:I.Q,BFormRadio:V.g,BFormGroup:h.x,ValidationProvider:s.d_},props:{value:{type:String,default:"keplr"}},data:function(){return{content:this.value}},methods:{handleInput:function(){this.$emit("input",this.content);var t=(0,C.getLocalAccounts)(),e=t[this.$store.state.chains.defaultWallet];e&&(e.device=this.content,localStorage.setItem("accounts",JSON.stringify(t)))}}},F=$,N=a(1001),E=(0,N.Z)(F,D,T,!1,null,null,null),q=E.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Delegator","label-for":"Delegator"}},[a("validation-provider",{attrs:{rules:"required",name:"Delegator"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-input",{attrs:{readonly:""},model:{value:t.selectedAddress,callback:function(e){t.selectedAddress=e},expression:"selectedAddress"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("validation-provider",{attrs:{rules:"required",name:"Validator"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-group",{attrs:{label:"Validator","label-for":"validator"}},[a("v-select",{attrs:{options:t.valOptions,reduce:function(t){return t.value},placeholder:"Select a validator",readonly:t.validatorAddress,selectable:function(t){return t.value}},model:{value:t.selectedValidator,callback:function(e){t.selectedValidator=e},expression:"selectedValidator"}})],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Available Token","label-for":"Token"}},[a("validation-provider",{attrs:{rules:"required",name:"Token"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-select",{attrs:{"text-field":"label"},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}},t._l(t.balanceOptions,(function(e){return a("b-form-select-option",{key:e.denom,attrs:{value:e.denom}},[t._v(" "+t._s(t.format(e))+" ")])})),1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Amount","label-for":"Amount"}},[a("validation-provider",{attrs:{rules:"required|regex:^([0-9\\.]+)$",name:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",[a("b-form-input",{attrs:{id:"Amount",state:!(n.length>0)&&null,placeholder:"Input a number",type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.printDenom())+" ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1)],1)},P=[],R=(a(21249),a(92222),a(82526),a(41817),a(56977),{components:{BRow:u.T,BCol:c.l,BInputGroup:p.w,BFormInput:f.e,BFormGroup:h.x,BFormSelect:v.K,BFormSelectOption:b.c,vSelect:S(),BInputGroupAppend:k.B,ValidationProvider:s.d_},props:{validatorAddress:{type:String,default:null},address:{type:String,default:null},balance:{type:Array,default:function(){return[]}}},data:function(){return{selectedAddress:this.address,availableAddress:[],validators:[],unbundValidators:[],selectedValidator:this.validatorAddress,token:"",amount:null,selectedChain:"",required:w.C1,password:w.Bj,email:w.Do,min:w.VV,integer:w._L,url:w.HQ,alpha:w.Fq,between:w.vX,digits:w.nz,length:w.kE,alphaDash:w.F8}},computed:{valOptions:function(){var t=[],e=this.validators.map((function(t){return{value:t.operator_address,label:"".concat(t.description.moniker," (").concat(100*Number(t.commission.rate),"%)")}}));e.length>0&&(t.push({value:null,label:"=== ACTIVE VALIDATORS ==="}),t=t.concat(e));var a=this.unbundValidators.map((function(t){return{value:t.operator_address,label:"* ".concat(t.description.moniker," (").concat(100*Number(t.commission.rate),"%)")}}));return a.length>0&&(t.push({value:null,label:"=== INACTIVE VALIDATORS ===",disabled:!0}),t=t.concat(a)),t},balanceOptions:function(){return this.setupBalance()},msg:function(){return[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:{delegatorAddress:this.selectedAddress,validatorAddress:this.selectedValidator,amount:{amount:(0,C.getUnitAmount)(this.amount,this.token),denom:this.token}}}]},IBCDenom:function(){return this.$store.state.chains.denoms}},mounted:function(){this.$emit("update",{modalTitle:"Delegate Token",historyName:"delegate"}),this.loadData()},methods:{loadData:function(){var t=this;this.$http.getValidatorList().then((function(e){if(t.validators=e,!t.selectedValidator){var a=Math.random(),n=(a*e.length).toFixed();t.selectedValidator=e[n].operator_address}})),this.$http.getValidatorUnbondedList().then((function(e){t.unbundValidators=e}))},setupBalance:function(){return this.balance&&this.balance.length>0?(this.token=this.balance[0].denom,this.balance):[]},printDenom:function(){return(0,C.formatTokenDenom)(this.token)},format:function(t){var e=this.$http.getSelectedConfig(),a=e.assets[0].exponent||"6";return(0,C.formatToken)(t,this.IBCDenom,a)}}}),U=R,L=(0,N.Z)(U,O,P,!1,null,"bfdc71ce",null),G=L.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Delegator","label-for":"Account"}},[a("validation-provider",{attrs:{rules:"required",name:"Delegator"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-input",{attrs:{readonly:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"From Validator","label-for":"validator"}},[a("v-select",{attrs:{value:t.validatorAddress,options:t.valOptions,reduce:function(t){return t.value},placeholder:"Select a validator",disabled:!0}})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"To Validator","label-for":"validator"}},[a("v-select",{attrs:{options:t.valOptions,reduce:function(t){return t.value},placeholder:"Select a validator",selectable:function(t){return t.value}},model:{value:t.toValidator,callback:function(e){t.toValidator=e},expression:"toValidator"}})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Current Delegation","label-for":"Token"}},[a("validation-provider",{attrs:{rules:"required",name:"Token"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("v-select",{attrs:{options:t.tokenOptions,reduce:function(t){return t.value}},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Amount","label-for":"Amount"}},[a("validation-provider",{attrs:{rules:"required|regex:^([0-9\\.]+)$",name:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",[a("b-form-input",{attrs:{id:"Amount",state:!(n.length>0)&&null,placeholder:"Input a number",type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.printDenom())+" ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1)],1)},z=[],W={name:"Redelegate",components:{BRow:u.T,BCol:c.l,BInputGroup:p.w,BFormInput:f.e,BFormGroup:h.x,vSelect:S(),BInputGroupAppend:k.B,ValidationProvider:s.d_},props:{validatorAddress:{type:String,default:null},address:{type:String,default:null}},data:function(){return{selectedAddress:this.address,unbundValidators:[],validators:[],toValidator:null,token:"",amount:null,delegations:[],required:w.C1,password:w.Bj,email:w.Do,min:w.VV,integer:w._L,url:w.HQ,alpha:w.Fq,between:w.vX,digits:w.nz,length:w.kE,alphaDash:w.F8}},computed:{valOptions:function(){var t=[],e=this.validators.map((function(t){return{value:t.operator_address,label:"".concat(t.description.moniker," (").concat(100*Number(t.commission.rate),"%)")}}));e.length>0&&(t.push({value:null,label:"=== ACTIVE VALIDATORS ==="}),t=t.concat(e));var a=this.unbundValidators.map((function(t){return{value:t.operator_address,label:"* ".concat(t.description.moniker," (").concat(100*Number(t.commission.rate),"%)")}}));return a.length>0&&(t.push({value:null,label:"=== INACTIVE VALIDATORS ===",disabled:!0}),t=t.concat(a)),t},tokenOptions:function(){var t=this,e=this.$http.getSelectedConfig(),a=e.assets[0].exponent||"6";return this.delegations?this.delegations.filter((function(e){return e.delegation.validator_address===t.validatorAddress})).map((function(t){return{value:t.balance.denom,label:(0,C.formatToken)(t.balance,{},a)}})):[]},msg:function(){return[{typeUrl:"/cosmos.staking.v1beta1.MsgBeginRedelegate",value:{delegatorAddress:this.address,validatorSrcAddress:this.validatorAddress,validatorDstAddress:this.toValidator,amount:{amount:(0,C.getUnitAmount)(this.amount,this.token),denom:this.token}}}]}},mounted:function(){this.$emit("update",{modalTitle:"Redelegate Token",historyName:"redelegate"}),this.loadData()},methods:{loadData:function(){var t=this;this.$http.getValidatorList().then((function(e){t.validators=e})),this.$http.getValidatorUnbondedList().then((function(e){t.unbundValidators=e})),this.$http.getStakingDelegations(this.address).then((function(e){t.delegations=e.delegation_responses,t.delegations.forEach((function(e){e.delegation.validator_address===t.validatorAddress&&(t.token=e.balance.denom,t.$emit("update",{feeDenom:e.balance.denom}))}))}))},format:function(t){return(0,C.formatToken)(t)},printDenom:function(){return(0,C.formatTokenDenom)(this.token)}}},Z=W,H=(0,N.Z)(Z,M,z,!1,null,null,null),j=H.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Sender","label-for":"Account"}},[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{value:t.address,readonly:""}})],1)],1)],1)],1)],1)},Q=[],K={name:"WithdrawDialogue",components:{BRow:u.T,BCol:c.l,BInputGroup:p.w,BFormInput:f.e,BFormGroup:h.x},props:{address:{type:String,default:""}},data:function(){return{account:[],balance:[],delegations:[],feeDenom:""}},computed:{msg:function(){var t=this,e=[];return this.delegations.forEach((function(a){e.push({typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:{delegatorAddress:t.address,validatorAddress:a.delegation.validator_address}})})),e}},mounted:function(){this.$emit("update",{modalTitle:"Withdraw Rewards",historyName:"withdraw"}),this.loadData()},methods:{loadData:function(){var t=this;this.$http.getStakingDelegations(this.address).then((function(e){t.delegations=e.delegation_responses}))}}},Y=K,J=(0,N.Z)(Y,X,Q,!1,null,null,null),tt=J.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Delegator","label-for":"Account"}},[a("b-form-input",{attrs:{readonly:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Validator","label-for":"validator"}},[a("v-select",{attrs:{value:t.validatorAddress,options:t.valOptions,reduce:function(t){return t.value},placeholder:"Select a validator",disabled:!0}})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Current Delegation","label-for":"Token"}},[a("validation-provider",{attrs:{rules:"required",name:"Token"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("v-select",{attrs:{options:t.tokenOptions,reduce:function(t){return t.value}},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Amount","label-for":"Amount"}},[a("validation-provider",{attrs:{rules:"required|regex:^([0-9\\.]+)$",name:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",[a("b-form-input",{attrs:{id:"Amount",state:!(n.length>0)&&null,placeholder:"Input a number",type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.printDenom())+" ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1)],1)},at=[],nt={name:"UnbondDialogue",components:{BRow:u.T,BCol:c.l,BInputGroup:p.w,BFormInput:f.e,BFormGroup:h.x,vSelect:S(),BInputGroupAppend:k.B,ValidationProvider:s.d_},props:{validatorAddress:{type:String,default:null},address:{type:String,default:null}},data:function(){return{validators:[],token:"",amount:null,delegations:[],required:w.C1,password:w.Bj,email:w.Do,min:w.VV,integer:w._L,url:w.HQ,alpha:w.Fq,between:w.vX,digits:w.nz,length:w.kE,alphaDash:w.F8}},computed:{valOptions:function(){return this.validators.map((function(t){return{value:t.operator_address,label:"".concat(t.description.moniker," (").concat(100*Number(t.commission.rate),"%)")}}))},tokenOptions:function(){var t=this;return this.delegations?this.delegations.filter((function(e){return e.delegation.validator_address===t.validatorAddress})).map((function(t){return{value:t.balance.denom,label:(0,C.formatToken)(t.balance)}})):[]},msg:function(){return[{typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:{delegatorAddress:this.address,validatorAddress:this.validatorAddress,amount:{amount:(0,C.getUnitAmount)(this.amount,this.token),denom:this.token}}}]}},mounted:function(){this.$emit("update",{modalTitle:"Unbond Token",historyName:"unbond"}),this.loadData()},methods:{loadData:function(){var t=this;this.address&&this.$http.getValidatorList().then((function(e){t.validators=e})),this.$http.getStakingDelegations(this.address).then((function(e){t.delegations=e.delegation_responses,t.delegations.forEach((function(e){e.delegation.validator_address===t.validatorAddress&&(t.token=e.balance.denom,t.$emit("update",{feeDenom:e.balance.denom}))}))}))},printDenom:function(){return(0,C.formatTokenDenom)(this.token)}}},rt=nt,ot=(0,N.Z)(rt,et,at,!1,null,null,null),st=ot.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Sender","label-for":"sender"}},[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{name:"sender",value:t.address,readonly:""}})],1)],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Recipient","label-for":"Recipient"}},[a("validation-provider",{attrs:{rules:"required",name:"recipient"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{id:"Recipient",state:!(n.length>0)&&null},model:{value:t.recipient,callback:function(e){t.recipient=e},expression:"recipient"}})],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Available Token","label-for":"Token"}},[a("validation-provider",{attrs:{rules:"required",name:"Token"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-select",{model:{value:t.token,callback:function(e){t.token=e},expression:"token"}},t._l(t.balanceOptions,(function(e){return a("b-form-select-option",{key:e.denom,attrs:{value:e.denom}},[t._v(" "+t._s(t.format(e))+" ")])})),1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Amount","label-for":"Amount"}},[a("validation-provider",{attrs:{rules:"required|regex:^([0-9\\.]+)$",name:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{id:"Amount",state:!(n.length>0)&&null,placeholder:"Input a number",type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.printDenom())+" ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])}),a("b-form-text",[t._v(" ≈ "),a("strong",{staticClass:"text-primary"},[t._v(t._s(t.currencySign)+t._s(t.valuation))])])],1)],1)],1)],1)},lt=[],dt=a(51666),ut={name:"TransforDialogue",components:{BRow:u.T,BCol:c.l,BInputGroup:p.w,BInputGroupAppend:k.B,BFormInput:f.e,BFormText:dt.m,BFormGroup:h.x,BFormSelect:v.K,BFormSelectOption:b.c,ValidationProvider:s.d_},props:{address:{type:String,default:""},toAddress:{type:String,default:""},balance:{type:Array,default:function(){return[]}}},data:function(){return{currency:(0,C.getUserCurrency)(),currencySign:(0,C.getUserCurrencySign)(),token:"",amount:null,recipient:this.toAddress,required:w.C1,password:w.Bj,email:w.Do,min:w.VV,integer:w._L,url:w.HQ,alpha:w.Fq,between:w.vX,digits:w.nz,length:w.kE,alphaDash:w.F8}},computed:{msg:function(){return[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:this.address,toAddress:this.recipient,amount:[{amount:(0,C.getUnitAmount)(this.amount,this.token),denom:this.token}]}}]},balanceOptions:function(){return this.setupBalance()},IBCDenom:function(){return this.$store.state.chains.denoms},valuation:function(){var t=this.amount;if(t){var e=this.printDenom(),a=this.$store.state.chains.quotes[e],n=a?a[this.currency]:0;return parseFloat((t*n).toFixed(2))}return 0}},mounted:function(){this.$emit("update",{modalTitle:"Transfer Tokens",historyName:"send"})},methods:{setupBalance:function(){return this.balance&&this.balance.length>0?(this.token=this.balance[0].denom,this.balance):[]},format:function(t){return(0,C.formatToken)(t,this.IBCDenom,6)},printDenom:function(){return(0,C.formatTokenDenom)(this.IBCDenom[this.token]||this.token)}}},ct=ut,mt=(0,N.Z)(ct,it,lt,!1,null,null,null),pt=mt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Sender","label-for":"Account"}},[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{value:t.address,readonly:""}})],1)],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Available Token","label-for":"Token"}},[a("validation-provider",{attrs:{rules:"required",name:"Token"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-select",{on:{change:t.tokenChange},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:""}},[t._v(" -- Please select a token -- ")])]},proxy:!0}],null,!0),model:{value:t.token,callback:function(e){t.token=e},expression:"token"}},t._l(t.balance,(function(e){return a("b-form-select-option",{key:e.denom,attrs:{value:e.denom}},[t._v(" "+t._s(t.format(e))+" ")])})),1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Amount","label-for":"Amount"}},[a("validation-provider",{attrs:{rules:"required|regex:^([0-9\\.]+)$",name:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{id:"Amount",state:!(n.length>0)&&null,placeholder:"Input a number",type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.printDenom())+" ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])}),a("b-form-text",[t._v(" ≈ "),a("strong",{staticClass:"text-primary"},[t._v(t._s(t.currencySign)+t._s(t.valuation))])])],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Destination: "+t.targetChainId,"label-for":"destination"}},[a("validation-provider",{attrs:{rules:"required",name:"destination"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("v-select",{attrs:{name:"destination",options:t.destinationOptions,placeholder:"Select a channel"},on:{input:function(e){return t.onChannelChange()}},model:{value:t.destination,callback:function(e){t.destination=e},expression:"destination"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Recipient","label-for":"Recipient"}},[a("validation-provider",{attrs:{rules:"required",name:"recipient"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{id:"Recipient",state:!(n.length>0)&&null,placeholder:"Input a destination address"},model:{value:t.recipient,callback:function(e){t.recipient=e},expression:"recipient"}})],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1)],1)},ht=[],vt=a(33359),bt=a(27484),gt=a.n(bt),_t={name:"TransforDialogue",components:{BRow:u.T,BCol:c.l,BInputGroup:p.w,BInputGroupAppend:k.B,BFormInput:f.e,BFormGroup:h.x,BFormSelect:v.K,BFormText:dt.m,BFormSelectOption:b.c,vSelect:S(),ValidationProvider:s.d_},props:{address:{type:String,default:""},balance:{type:Array,default:function(){return[]}}},data:function(){return{currency:(0,C.getUserCurrency)(),currencySign:(0,C.getUserCurrencySign)(),targetChainId:"",token:"",amount:null,recipient:null,destination:{},channels:[],required:w.C1,password:w.Bj,email:w.Do,min:w.VV,integer:w._L,url:w.HQ,alpha:w.Fq,between:w.vX,digits:w.nz,length:w.kE,alphaDash:w.F8}},computed:{destinationOptions:function(){if(!this.token&&""===this.token)return[];var t=this.channels.map((function(t){return{port_id:t.port_id,channel_id:t.channel_id,label:"".concat(t.chain_id?t.chain_id:""," ").concat(t.port_id,"/").concat(t.channel_id)}}));if(this.token.startsWith("ibc/")){var e=this.paths[this.token];return e?t.filter((function(t){return t.channel_id===e.channel_id})):t}return t},msg:function(){var t=gt()().add(4,"hour");return[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:{sourcePort:this.destination.port_id,sourceChannel:this.destination.channel_id,token:(0,vt.coin)(Number((0,C.getUnitAmount)(this.amount,this.token)),this.token),sender:this.address,receiver:this.recipient,timeoutTimestamp:String(1e6*t.utc().valueOf())}}]},balanceOptions:function(){return this.setupBalance()},selectedChain:function(){return this.$store.state.chains.selected},IBCDenom:function(){return this.$store.state.chains.denoms},paths:function(){return this.$store.state.chains.ibcPaths},valuation:function(){var t=this.amount,e=this.printDenom();if(t&&e){var a=this.$store.state.chains.quotes[e],n=a?a[this.currency]:0;return parseFloat((t*n).toFixed(2))}return 0}},mounted:function(){this.$emit("update",{modalTitle:"IBC Transfer Tokens",historyName:"transfer"}),this.setActionName(),this.loadData()},methods:{loadData:function(){var t=this;this.destination=null,this.channels=[],this.token="",this.targetChainId="",this.address&&this.$http.getIBCChannels(this.selectedChain,null).then((function(e){var a=e.channels.filter((function(t){return"STATE_OPEN"===t.state})).map((function(t){return{channel_id:t.channel_id,port_id:t.port_id}}));t.$set(t,"channels",a)}))},setupBalance:function(){return this.balance&&this.balance.length>0?(this.token=this.balance[0].denom,this.balance):[]},tokenChange:function(){this.destination=this.destinationOptions[0],this.recipient=null,this.setActionName(),this.onChannelChange()},setActionName:function(){this.$emit("update",{actionName:this.token.startsWith("ibc")?"Withdraw":"Deposit"})},format:function(t){return(0,C.formatToken)(t,this.IBCDenom,6)},printDenom:function(){return(0,C.formatTokenDenom)(this.IBCDenom[this.token]||this.token)},onChannelChange:function(){var t=this;this.$http.getIBCChannelClientState(this.destination.channel_id,this.destination.port_id,this.selectedChain).then((function(e){t.targetChainId=e.identified_client_state.client_state.chain_id}))}}},kt=_t,yt=(0,N.Z)(kt,ft,ht,!1,null,null,null),xt=yt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("h4",[t._v(t._s(t.proposalId)+". "+t._s(t.proposalTitle))])])],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Voter","label-for":"Account"}},[a("validation-provider",{attrs:{rules:"required",name:"Voter"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-input",{attrs:{readonly:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Option","label-for":"option"}},[a("validation-provider",{attrs:{rules:"required",name:"option"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("div",{staticClass:"demo-inline-spacing"},[a("b-form-radio",{staticClass:"custom-control-success",attrs:{name:"option",value:"1"},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}},[t._v(" Yes ")]),a("b-form-radio",{staticClass:"custom-control-warning",attrs:{name:"option",value:"3"},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}},[t._v(" No ")]),a("b-form-radio",{staticClass:"custom-control-danger",attrs:{name:"option",value:"4"},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}},[t._v(" No With Veto ")]),a("b-form-radio",{staticClass:"custom-control-secondary",attrs:{name:"option",value:"2"},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}},[t._v(" Abstain ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1)],1)},Ct=[],Bt={name:"VoteDialogue",components:{BRow:u.T,BCol:c.l,BFormGroup:h.x,BFormRadio:V.g,ValidationProvider:s.d_,BFormInput:f.e},props:{proposalId:{type:Number,required:!0},proposalTitle:{type:String,required:!0},address:{type:String,default:null}},data:function(){return{option:null,required:w.C1,password:w.Bj,email:w.Do,min:w.VV,integer:w._L,url:w.HQ,alpha:w.Fq,between:w.vX,digits:w.nz,length:w.kE,alphaDash:w.F8}},computed:{msg:function(){return[{typeUrl:"/cosmos.gov.v1beta1.MsgVote",value:{voter:this.address,proposalId:this.proposalId,option:Number(this.option)}}]}},mounted:function(){this.$emit("update",{modalTitle:"Vote",historyName:"vote"})},methods:{format:function(t){return(0,C.formatToken)(t)}}},St=Bt,At=(0,N.Z)(St,wt,Ct,!1,null,null,null),Dt=At.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Sender","label-for":"Account"}},[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{value:t.address,readonly:""}})],1)],1)],1)],1)],1)},It=[],Vt={name:"WithdrawCommissionDialogue",components:{BRow:u.T,BCol:c.l,BInputGroup:p.w,BFormInput:f.e,BFormGroup:h.x},props:{address:{type:String,default:""},validatorAddress:{type:String,default:""}},data:function(){return{}},computed:{msg:function(){return[{typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:{delegatorAddress:this.address,validatorAddress:this.validatorAddress}},{typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission",value:{validatorAddress:this.validatorAddress}}]}},mounted:function(){this.$emit("update",{modalTitle:"Withdraw Validator Commission",historyName:"withdraw"})},methods:{}},$t=Vt,Ft=(0,N.Z)($t,Tt,It,!1,null,null,null),Nt=Ft.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("h4",[t._v(t._s(t.proposalId)+". "+t._s(t.proposalTitle))])])],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Depositor","label-for":"Voter"}},[a("validation-provider",{attrs:{rules:"required",name:"Voter"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-input",{attrs:{readonly:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Available Token","label-for":"Token"}},[a("validation-provider",{attrs:{rules:"required",name:"Token"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-form-select",{model:{value:t.token,callback:function(e){t.token=e},expression:"token"}},t._l(t.balanceOptions,(function(e){return a("b-form-select-option",{key:e.denom,attrs:{value:e.denom}},[t._v(" "+t._s(t.format(e))+" ")])})),1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Amount","label-for":"Amount"}},[a("validation-provider",{attrs:{rules:"required|regex:^([0-9\\.]+)$",name:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("b-input-group",{staticClass:"mb-25"},[a("b-form-input",{attrs:{id:"Amount",state:!(n.length>0)&&null,placeholder:"Input a number",type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("b-input-group-append",{attrs:{"is-text":""}},[t._v(" "+t._s(t.printDenom())+" ")])],1),a("small",{staticClass:"text-danger"},[t._v(t._s(n[0]))])]}}])})],1)],1)],1)],1)},qt=[],Ot={name:"DepositDialogue",components:{BRow:u.T,BCol:c.l,BInputGroup:p.w,BFormInput:f.e,BFormGroup:h.x,BFormSelect:v.K,BInputGroupAppend:k.B,BFormSelectOption:b.c,ValidationProvider:s.d_},props:{proposalId:{type:Number,required:!0},proposalTitle:{type:String,required:!0},balance:{type:Array,default:function(){return[]}},address:{type:String,default:null}},data:function(){return{token:null,amount:"",required:w.C1,password:w.Bj,email:w.Do,min:w.VV,integer:w._L,url:w.HQ,alpha:w.Fq,between:w.vX,digits:w.nz,length:w.kE,alphaDash:w.F8}},computed:{msg:function(){return[{typeUrl:"/cosmos.gov.v1beta1.MsgDeposit",value:{depositor:this.address,proposalId:String(this.proposalId),amount:[{amount:(0,C.getUnitAmount)(this.amount,this.token),denom:this.token}]}}]},balanceOptions:function(){return this.setupBalance()}},mounted:function(){this.$emit("update",{modalTitle:"Deposit",historyName:"deposit"})},methods:{printDenom:function(){return(0,C.formatTokenDenom)(this.token)},format:function(t){return(0,C.formatToken)(t)},setupBalance:function(){return this.balance&&this.balance.length>0?(this.token=this.balance[0].denom,this.balance):[]}}},Pt=Ot,Rt=(0,N.Z)(Pt,Et,qt,!1,null,null,null),Ut=Rt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._e(),t.succeed?a("p",{staticClass:"result-text mt-1 text-success"},[t._v(" Congratulations! Transfer completed successfully. ")]):t.error?a("p",{staticClass:"result-text mt-1 text-danger"},[t._v(" "+t._s(t.error)+" ")]):a("p",{staticClass:"result-text mt-1 text-primary"},[t._v(" Processing... ")]),a("div",{staticClass:"status"},[a("b-progress",{attrs:{animated:t.isLoading}},[a("b-progress-bar",{attrs:{variant:"success",value:t.progresBar[0]}}),a("b-progress-bar",{attrs:{variant:"danger",value:t.progresBar[1]}})],1),a("div",{staticClass:"status-text"},[t.hash?a("span",[t._v("SUBMITED")]):t._e(),t.succeed?a("span",[t._v("COMPLETED")]):t._e(),t.error?a("span",[t._v("FAILED")]):t._e()])],1),a("div",{staticClass:"link"},[a("router-link",{attrs:{to:t.txUrl}},[t._v(" View Transaction ")])],1)])},Gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data"},[a("div",{staticClass:"board-row"},[a("div",{staticClass:"key"},[t._v(" AMOUNT ")]),a("div",{staticClass:"value"},[t._v(" 1,233,000 USDT ")])]),a("div",{staticClass:"board-row"},[a("div",{staticClass:"key"},[t._v(" BRIDGE FEE ")]),a("div",{staticClass:"value"},[t._v(" 3,000 USDT ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sum"},[a("div",{staticClass:"key"},[t._v(" TRANSFER AMOUNT ")]),a("div",{staticClass:"value"},[t._v(" 1,213,000 USDT ")])])}],Mt=a(45752),zt=a(22981),Wt={components:{BProgress:Mt.D,BProgressBar:zt.Q},props:{hash:{type:String,default:null},selectedChain:{type:Object,default:null}},data:function(){return{isLoading:!0,succeed:!1,error:"",checkTimes:0}},computed:{progresBar:function(){return this.hash?this.succeed?[100,0,0]:[50,0,50]:[0,0,100]},txUrl:function(){var t=this.selectedChain?this.selectedChain.chain_name:this.$store.state.chains.selected.chain_name;return"/".concat(t,"/tx/").concat(this.hash)}},mounted:function(){this.timer=setInterval(this.trace,6e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:{trace:function(){var t=this;this.hash&&(this.error=null,this.$http.getTxs(this.hash,this.selectedChain).then((function(e){if(0===e.code){t.succeed=!0,t.isLoading=!1,clearInterval(t.timer);var a=document.getElementById("txevent");if(a){var n=new Event("txcompleted",e);a.dispatchEvent(n)}}else 3!==e.code&&(t.error=e.raw_log,clearInterval(t.timer))}),(function(){t.checkTimes+=1,t.checkTimes>5&&(clearInterval(t.timer),t.error="Timeout")})).catch((function(e){t.error=e,clearInterval(t.timer)})))}}},Zt=Wt,Ht=(0,N.Z)(Zt,Lt,Gt,!1,null,"4e6e8ffe",null),jt=Ht.exports,Xt={name:"DelegateDialogue",components:{BAlert:i.F,BAvatar:l.SH,BModal:d.N,BRow:u.T,BCol:c.l,BForm:m.e,BInputGroup:p.w,BFormInput:f.e,BFormGroup:h.x,BFormSelect:v.K,BFormSelectOption:b.c,BFormCheckbox:g.l,vSelect:S(),BButton:_.T,BInputGroupAppend:k.B,BOverlay:y.X,WalletInputVue:q,ValidationProvider:s.d_,ValidationObserver:s._j,ToastificationContent:A.Z,Delegate:G,Redelegate:j,Withdraw:tt,Unbond:st,Transfer:pt,IBCTransfer:xt,Vote:Dt,WithdrawCommission:Nt,GovDeposit:Ut,TransactionResult:jt},directives:{Ripple:x.Z},props:{type:{type:String,default:""},modalId:{type:String,default:"operation-modal"},validatorAddress:{type:String,default:null},address:{type:String,default:null},proposalId:{type:Number,default:null},proposalTitle:{type:String,default:null},selectedChainName:{type:String,default:null},toAddress:{type:String,default:null}},data:function(){return{modalTitle:"",historyName:"",selectedValidator:null,token:"",chainId:"",balance:[],IBCDenom:{},error:null,showDismissibleAlert:!1,sequence:1,accountNumber:0,advance:!1,fee:"900",feeDenom:"",wallet:"ledgerUSB",gas:"250000",memo:"",blockingMsg:this.address?"You are not the owner":"No available account found.",actionName:"Send",showResult:!1,txHash:"",required:w.C1,password:w.Bj,email:w.Do,min:w.VV,integer:w._L,url:w.HQ,alpha:w.Fq,between:w.vX,digits:w.nz,length:w.kE,alphaDash:w.F8}},computed:{feeDenoms:function(){return this.balance?this.balance.filter((function(t){return!t.denom.startsWith("ibc")})):[]},accounts:function(){var t=(0,C.getLocalAccounts)(),e=this.$store.state.chains.defaultWallet;return t?t[e]:null},isOwner:function(){var t=this;return!!(this.accounts&&(this.updateWallet(this.accounts.device),this.accounts.address.findIndex((function(e){return e.addr===t.selectedAddress}))>-1))},selectedAddress:function(){if(this.address)return this.address;if(this.accounts){var t,e=this.$store.state.chains.selected.chain_name,a=null===(t=this.accounts)||void 0===t?void 0:t.address.find((function(t){return t.chain===e}));return null===a||void 0===a?void 0:a.addr}return null},selectedChain:function(){var t=null,e=localStorage.getItem("chains");return e&&this.selectedChainName&&(t=JSON.parse(e)[this.selectedChainName]),t}},methods:{initialize:function(){var t,e,a,n=this;this.isOwner&&this.selectedAddress&&(this.$http.getLatestBlock().then((function(t){n.chainId=t.block.header.chain_id;var e=(0,C.timeIn)(t.block.header.time,10,"m");n.error=e?"Client is not synced or blockchain is halted":null})),this.$http.getAuthAccount(this.selectedAddress).then((function(t){var e=(0,C.extractAccountNumberAndSequence)(t);n.accountNumber=e.accountNumber,n.sequence=e.sequence})),this.$http.getBankBalances(this.selectedAddress,this.selectedChain).then((function(t){if(t.balances&&t.balances.length>0){n.balance=t.balances.reverse();var e=n.balance.find((function(t){return!t.denom.startsWith("ibc")}));n.token=e.denom,e&&(n.feeDenom=e.denom)}})),this.fee=(null===(t=this.$store.state.chains.selected)||void 0===t?void 0:t.min_tx_fee)||"1000",this.feeDenom=(null===(e=this.$store.state.chains.selected)||void 0===e||null===(a=e.assets[0])||void 0===a?void 0:a.base)||"")},componentUpdate:function(t){var e=this;Object.keys(t).forEach((function(a){e[a]=t[a]}))},handleOk:function(t){var e=this;t.preventDefault(),this.fee?this.feeDenom?this.accountNumber?this.sequence?this.chainId?this.$refs.simpleRules.validate().then((function(t){t&&e.sendTx().then((function(t){e.error=t}))})):this.error="Chain Id is required":this.error="Sequence is required":this.error="Account number is required":this.error="fee symbol is required":this.error="fee is required"},resetModal:function(){this.feeDenom="",this.error=null,this.showResult=!1},sendTx:function(){var t=this;return(0,o.Z)(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$refs.component.msg,0!==a.length){e.next=4;break}return t.error="No delegation found",e.abrupt("return","");case 4:if(t.accountNumber){e.next=7;break}return t.error="Account number should not be empty!",e.abrupt("return","");case 7:return n={amount:[{amount:t.fee,denom:t.feeDenom}],gas:t.gas},r={accountNumber:t.accountNumber,sequence:t.sequence,chainId:t.chainId},(0,C.sign)(t.wallet,t.chainId,t.selectedAddress,a,n,t.memo,r).then((function(e){t.showResult=!0,t.$http.broadcastTx(e,t.selectedChain).then((function(e){t.txHash=e.tx_response.txhash,(0,C.setLocalTxHistory)({chain:t.$store.state.chains.selected,op:t.historyName,hash:e.tx_response.txhash,time:new Date})})).catch((function(e){t.showResult=!1,t.error=e,t.showDismissibleAlert=!0}))})).catch((function(e){t.showResult=!1,t.error=e,t.showDismissibleAlert=!0})),e.abrupt("return","");case 11:case"end":return e.stop()}}),e)})))()},updateWallet:function(t){this.wallet=t&&"address"===t?"keplr":t}}},Qt=Xt,Kt=(0,N.Z)(Qt,n,r,!1,null,null,null),Yt=Kt.exports},50742:function(t,e,a){a.d(e,{Fq:function(){return h},F8:function(){return g},vX:function(){return f},nz:function(){return b},Do:function(){return m},_L:function(){return v},kE:function(){return _},VV:function(){return p},Bj:function(){return k},C1:function(){return c},HQ:function(){return y}});var n=a(12954),r=a(34479),o=a(41709),s=a(25505),i=(a(74916),a(77601),function(t){return t>=0}),l=function(t){var e=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&*()]).{8,}/,a=e.test(t);return a},d=function(t){var e=/^(?:3[47][0-9]{13})$/,a=e.test(t);return a},u=function(t){if(void 0===t||null===t||0===t.length)return!0;var e=/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/;return e.test(t)},c=(0,n.l7)("required",r.C1),m=(0,n.l7)("email",r.Do),p=(0,n.l7)("min",r.VV),f=((0,n.l7)("confirmed",r.GU),(0,n.l7)("regex",r.Sz),(0,n.l7)("between",r.vX)),h=(0,n.l7)("alpha",r.Fq),v=(0,n.l7)("integer",r._L),b=(0,n.l7)("digits",r.nz),g=(0,n.l7)("alpha-dash",r.E1),_=((0,n.l7)("alpha-num",r.oK),(0,n.l7)("length",r.kE)),k=((0,n.l7)("positive",{validate:i,message:"Please enter positive number!"}),(0,n.l7)("credit-card",{validate:d,message:"It is not valid credit card!"}),(0,n.l7)("password",{validate:l,message:"Your {_field_} must contain at least one uppercase, one lowercase, one special character and one digit"})),y=(0,n.l7)("url",{validate:u,message:"URL is invalid"});(0,n.NC)({en:{messages:s.s,names:{email:"Email",password:"Password"},fields:{password:{min:"{_field_} is too short, you want to get hacked?"}}},ar:{messages:o.s,names:{email:"البريد الإلكتروني",password:"كلمة السر"},fields:{password:{min:"كلمة السر قصيرة جداً سيتم اختراقك"}}}})}}]);